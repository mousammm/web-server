# listen for multiple client 

```c
while(1)
{
    int client_fd = accept(server_fd, NULL, NULL);
    char *res = ..
    send(client_fd, res, strlen(res), 0);
    close(client_fd);
};
```

* before it was listening for a single client and it close it's connection
* now it will listen for multiple client till we exit forcefully
* accept is a blocking fun it will it continue only when client connects

# get client info 

```c
while(1)
{
    socklen_t client_addr_length = sizeof(client_address);                      // address length of client 
    int client_fd = accept(server_fd, (struct sockaddr*)&client_address, &client_addr_length);
    
    // Get client info
    char client_ip[INET_ADDRSTRLEN];
    inet_ntop(AF_INET, &client_address.sin_addr, client_ip, sizeof(client_ip));      // get client ip
    int client_port = ntohs(client_address.sin_port);	                            // get client port 
    printf("client: %s:%d\n", client_ip, client_port);
    
    char *res = ..
    send(client_fd, res, strlen(res), 0);
    close(client_fd);
};
```

* before accept is taking NULL argument after chaging it we have client info
* and dont forget to declare client_address 

```c
#include <arpa/inet.h>      // inet_ntop
struct sockaddr_in address, client_address;
```

# text/html

* in res changing text/plain to text/html 
* we will hit by 2 client logs 
* First request: The browser requests your HTML page
* Second request: The browser automatically requests /favicon.ico
